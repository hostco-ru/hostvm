# Руководство по установке и настройке

Компоненты HOSTVM VDI поставляются в виде готовых виртуальных машин. Вы можете скачать их из каталога загрузок, доступного в [личном кабинете](https://lk.pvhostvm.ru).

Ознакомьтесь с [системными требованиями](https://kb.pvhostvm.ru/hostvm-vdi/hostvm-vdi-installation-guide/requirements) для виртуальных машин HOSTVM VDI.

В каталоге загрузок образы виртуальных машин расположены в директории `HOSTVM-VDI/`, для загрузки доступны следующие версии:

`HOSTVM-VDI/beta` - версия ПО, находящаяся в режиме бета-тестирования;

`HOSTVM-VDI/stable` - текущий стабильный релиз(-ы);

`HOSTVM-VDI/legacy` - предыдущий стабильный релиз(-ы).

### Обязательные компоненты <a href="#mandatory" id="mandatory"></a>

**HOSTVM VDI Брокер**: брокер подключений, требуется во всех вариантах развертывания.

Предоставляет функционал портала пользователя и портала администратора системы, обеспечивает жизненный цикл виртуальных рабочих столов и приложений, взаимодействие с гипервизорами и другими сервис-провайдерами.

Для импорта и настройки воспользуйтесь [инструкцией](https://kb.pvhostvm.ru/hostvm-vdi/hostvm-vdi-installation-guide/hostvm-vdi-ova-install).

### Дополнительные компоненты <a href="#optional" id="optional"></a>

**HOSTVM VDI Шлюз**: шлюз для предоставления защищенных подключений и HTML5 доступа к сервисам.

Используйте данный компонент, если вам требуется обеспечить защищенный доступ пользователей к сервисам VDI из WAN, и/или возможность подключения через HTML5.

Для импорта и настройки воспользуйтесь [инструкцией](https://kb.pvhostvm.ru/hostvm-vdi/hostvm-vdi-installation-guide/tunneler-appliance-deploy).

**HOSTVM VDI Сервер БД**: сервер базы данных брокера подключений.

Используйте данный компонент, если вам требуется выделенный сервер БД брокера вместо встроенного в составе брокера, например как часть отказоустойчивой конфигурации, в случае отсутствия собственного сервера БД в инфраструктуре.

Для импорта и настройки воспользуйтесь [инструкцией](https://kb.pvhostvm.ru/hostvm-vdi/hostvm-vdi-installation-guide/vdi-db).

**HOSTVM VDI Балансировщик** - обеспечивает балансировку подключений к брокерам и шлюзам HOSTVM VDI при развертывании отказоустойчивой конфигурации.

Для импорта и настройки воспользуйтесь [инструкцией](https://kb.pvhostvm.ru/hostvm-vdi/hostvm-vdi-installation-guide/haproxy).

### Алгоритм развертывания HOSTVM VDI на примере отказоустойчивой инфраструктуры на одной площадке

Данный сценарий предполагает дублирование всех ключевых компонентов инфраструктуры VDI для обеспечения работы в случае выхода из строя части оборудования на одной площадке:\
\
\- Импортировать две виртуальные машины HOSTVM VDI Сервер БД согласно [инструкции](vdi-db/).\
\- Настроить active/passive репликацию на внешних серверах БД согласно [инструкции](../hostvm-vdi-admin-guide/vdi-db-replication.md).\
\- Импортировать две виртуальные машины брокера HOSTVM VDI согласно [инструкции](hostvm-vdi-ova-install.md).\
\- Переключить брокеры HOSTVM VDI  на активную внешнюю базу данных согласно [инструкции](vdi-db/nastroika-brokera-vdi-dlya-ispolzovaniya-vydelennogo-servera-bd.md).\
\- Импортировать две виртуальные машины шлюза HOSTVM VDI согласно [инструкции](tunneler-appliance-deploy.md). Каждому брокеру соответствует отдельный шлюз.\
\- Импортировать две виртуальные машины балансировщика HOSTVM VDI  согласно [инструкции](haproxy.md).&#x20;

### Дальнейшая настройка

Для дальнейшей настройки системы обратитесь к [руководству администратора](https://kb.pvhostvm.ru/hostvm-vdi/hostvm-vdi-admin-guide).

### Перечень изменений

С перечнем изменений и исправлений вы можете ознакомиться в [статье](https://kb.pvhostvm.ru/hostvm-vdi/hostvm-vdi-installation-guide/changelog).
