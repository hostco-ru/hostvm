# SSL сертификаты

По умолчанию в компонентах HOSTVM VDI используются предустановленные самоподписанные сертификаты. Использование этих сертификатов предполагается для тестовых сред, в остальных случаях рекомендуется установка действительных сертификатов, используемых в конечной инфраструктуре. Для замены сертификатов воспользуйтесь данной инструкцией.

### **Действия на балансировщике (haproxy)** <a href="#haproxy" id="haproxy"></a>

{% hint style="warning" %}
Действия необходимо выполнить на каждом балансировщике
{% endhint %}

Сертификат и приватный ключ должны быть сгенерированы на имя балансировщика (FQDN), используемое для доступа к брокерам HOSTVM VDI (порталу пользователя и администратора). Запись в DNS для FQDN балансировщика должна соответствовать настроенному виртуальному IP-адресу (VIP) балансировщика.

Загрузите сертификат и приватный ключ, сгенерированные в центре сертификации, на все балансировщики, воспользовавшись разделом "Настройка SSL сертификатов" документа ["Установка и настройка балансировщика HAProxy"](haproxy.md#ssl-certificates).

### **Действия на туннелере (шлюзе)** <a href="#tunneler" id="tunneler"></a>

{% hint style="warning" %}
Действия необходимо выполнить на каждом туннелере.
{% endhint %}

[Добавьте в доверенные](../tunneler-appliance-deploy.md#ssl-certificates-35) CA сертификат центра сертификации, выпустившего сертификат для балансировщика.

Используйте имя балансировщика (FQDN):

* при [настройке подключения к брокеру HOSTVM VDI](haproxy.md#tunneler-config);
* при [настройке туннелируемых подключений (транспортов) для работы через балансировщик](haproxy.md#konfiguraciya-tunneliruemykh-podklyuchenii-transportov-dlya-raboty-cherez-balansirovshik).

Используйте сгенерированный сертификат балансировщика для [настройки HTML5 подключений](../tunneler-appliance-deploy.md#html5-certificate).

