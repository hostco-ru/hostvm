---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Провайдер RDS / Linux terminal

Данный тип сервис-провайдера предоставляет возможность публикации сервисов терминальных сессий и виртуальных приложений, с помощью как серверов Microsoft Remote Desktop Services (RDS), так и терминальных серверов на основе Linux.

> Описываемый функционал доступен начиная с версии брокера 3.6 (номер сборки 20250314).

## Создание сервис-провайдера <a href="#provider" id="provider"></a>

Для создания сервис-провайдера зайдите в раздел "Сервисы", нажмите "Новый" и выберите тип провайдера "RDS / Linux Terminal":

<figure><img src="../../../.gitbook/assets/rds-lterm-sp1.png" alt=""><figcaption></figcaption></figure>

### Параметры <a href="#params" id="params"></a>

**Имя:** - наименование создаваемого провайдера для отображения в системе;

**Список серверов:** список серверов, используемых для терминального доступа или публикации приложений. В случае указания нескольких серверов, пользователи будут распределяться между ними. Задайте IP адреса серверов, разделенные запятыми, и нажмите "Добавить":

<figure><img src="../../../.gitbook/assets/rds-sp-2.png" alt=""><figcaption></figcaption></figure>

**Проверка сервера:** проверка доступности сервера перед подключением пользователя. При непройденной проверке пользователь будет перенаправлен на следующий доступный сервер.

Используйте кнопку “Проверить” для проверки созданной конфигурации провайдера. Для сохранения созданной конфигурации нажмите "Сохранить".

## Создание сервисов <a href="#services" id="services"></a>

После завершения настройки провайдера откройте его параметры с помощью двойного щелчка, перейдите на вкладку "Сервисы", нажмите "Новый" и выберите тип создаваемого сервиса:

* Linux приложение - для публикации виртуальных приложений с использованием серверов на основе Linux;
* Linux терминальная сессия - для публикации терминального доступа к серверам на основе Linux;
* RDS приложение - для публикации виртуальных приложений с использованием платформы Microsoft Remote Desktop Services (RDS);
* RDS терминальная сессия - для публикации терминального доступа к серверам под управлением Microsoft Windows.

### Linux приложение <a href="#linux-app" id="linux-app"></a>

Этот тип базового сервиса позволяет публиковать виртуальные приложения с серверов на основе Linux.

> Для подключения и публикации приложений используется протокол X2Go.

> На машине пользователя и сервере приложений должны быть установлены компоненты, необходимые для работы протокола X2Go: X2Go client и X2Go server соответственно.

#### Параметры <a href="#params-la" id="params-la"></a>

**Имя:** - наименование создаваемого сервиса для отображения в системе;

**Тип сервера:** - тип используемого сервера (на данный момент поддерживается только X2Go). При настройке сервис-пула на основе этого базового сервиса используйте тип транспорта, соответствующий данному параметру;

**Назначать другой IP при недоступности** - автоматическое переназначение ранее выданного адреса сервера, если при подключении он недоступен.

Параметры публикуемого приложения [задаются в настройках транспорта X2Go](../transports/x2go.md).

### Linux терминальная сессия <a href="#linux-term" id="linux-term"></a>

Этот тип базового сервиса позволяет предоставлять терминальный доступ к серверам на основе Linux.

> Поддерживаемые протоколы для терминального доступа: X2Go, Loudplay, RDP.

> На машине пользователя и терминальном сервере должны быть установлены компоненты, необходимые для работы используемого протокола: клиент и сервер соответственно.

#### Параметры <a href="#params-lt" id="params-lt"></a>

**Имя:** - наименование создаваемого сервиса для отображения в системе;

**Тип сервера:** - тип используемого сервера (поддерживаются: X2Go, Loudplay, Xrdp). При настройке сервис-пула на основе этого базового сервиса используйте тип транспорта, соответствующий данному параметру;

**Назначать другой IP при недоступности** - автоматическое переназначение ранее выданного адреса сервера, если при подключении он недоступен.

### RDS приложение <a href="#rds-app" id="rds-app"></a>

Этот тип базового сервиса позволяет публиковать виртуальные приложения с использованием Microsoft Remote Desktop Services (RDS).

> Для работы сервиса требуется наличие одного или нескольких серверов Microsoft Windows Server 2012/2016/2019/2022 с ролью Remote Desktop Session Host, сконфигурированных для предоставления доступа к виртуальным приложениям.

> При настройке сервис-пула на основе этого базового сервиса используйте тип транспорта [RDS RemoteApp](../transports/rds-remoteapp.md) (прямой и туннельный) либо [HTML5 RDS](../transports/html5-rds.md).

#### Параметры <a href="#params-ra" id="params-ra"></a>

**Имя:** - наименование создаваемого сервиса для отображения в системе;

**Алиас приложения:** - алиас опубликованного приложения RemoteApp;

<figure><img src="../../../.gitbook/assets/vdi_rds_4.jpg" alt=""><figcaption></figcaption></figure>

**Назначать другой IP при недоступности** - автоматическое переназначение ранее выданного адреса сервера, если при подключении он недоступен.

### RDS терминальная сессия <a href="#rds-term" id="rds-term"></a>

Этот тип базового сервиса позволяет предоставлять терминальный доступ к серверам под управлением Microsoft Windows.

> Поддерживаемые протоколы для терминального доступа: RDP.

#### Параметры <a href="#params-rt" id="params-rt"></a>

**Имя:** - наименование создаваемого сервиса для отображения в системе;

**Назначать другой IP при недоступности** - автоматическое переназначение ранее выданного адреса сервера, если при подключении он недоступен.

## Управление сессиями пользователей <a href="#sessions" id="sessions"></a>

Провайдер `RDS / Linux Terminal` предоставляет возможность [сброса сессий пользователей](../tools.md#service-management) администратором системы. Для этого потребуется установить RDS агент на серверы, указанные в настройках провайдера, и зарегистрировать его на брокере. Для регистрации понадобится создать токен RDS агента.

### Создание токена <a href="#token" id="token"></a>

Управление токенами доступно в разделе `Инструменты` меню администратора системы.

[Инструкция по созданию токена](../tools.md#rds-actor)

### Установка агента <a href="#actor" id="actor"></a>

> При настройке агента в качестве значения поля Service token используйте созданный на предыдущем шаге токен.

[Инструкция по установке и настройке агента](../../hostvm-vdi-installation-guide/actor/rds-actor.md)

