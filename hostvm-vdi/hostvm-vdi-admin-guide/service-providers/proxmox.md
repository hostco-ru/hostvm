# Провайдер Proxmox

Данный тип сервис-провайдера предоставляет возможность публикации сервисов связанных клонов (Linked Clone) и предоставления рабочих столов пользователям в среде гипервизора ProxmoxVE.

## Создание сервис-провайдера <a href="#provider" id="provider"></a>

Для создания сервис-провайдера зайдите в раздел "Сервисы", нажмите "Новый" и выберите тип провайдера "Proxmox".

<figure><img src="../../../.gitbook/assets/proxmox (1).png" alt=""><figcaption></figcaption></figure>

### Основные настройки <a href="#main" id="main"></a>

**Имя (Name)** - наименование сервис-провайдера;

**Хост (Host)** - имя/IP-адрес кластера или сервера виртуализации Proxmox;

**Порт (Port)** - порт подключения;

**Имя пользователя (Username)** - имя пользователя с административными правами в ProxmoxVE, вводить в формате user@authenticator;

**Пароль (Password)** - пароль от учётной записи пользователя.

<figure><img src="../../../.gitbook/assets/image (105).png" alt=""><figcaption></figcaption></figure>

### Расширенные настройки <a href="#advanced" id="advanced"></a>

**Одновременное создание (Creation concurrency)** - количество одновременных задач создания рабочих столов;

**Одновременное удаление (Removal concurrency)** - количество одновременных задач удаления рабочих столов;

**Таймаут (Timeout)** - тайм-аут подключения к ProxmoxVE (в секундах);

**Диапазон MAC-адресов (Macs range)** - диапазон MAC-адресов для присвоения создаваемым виртуальным рабочим столам. Принимаются любые допустимые для Proxmox значения;

**Начальный VmId** - идентификатор ВМ, с которого брокер начнёт создавать ВМ в Proxmox (≥ 10000).

<figure><img src="../../../.gitbook/assets/image (118).png" alt=""><figcaption></figcaption></figure>

## Создание сервисов <a href="#services" id="services"></a>

После завершения настройки провайдера откройте его параметры с помощью двойного щелчка, перейдите на вкладку "Сервисы", нажмите "Новый" и выберите тип создаваемого сервиса:

* связанный клон Proxmox (Linked Clone Proxmox) - для публикации виртуальных рабочих столов на основе "золотого" образа.

<figure><img src="../../../.gitbook/assets/image (2) (1).png" alt=""><figcaption></figcaption></figure>

### Связанный клон Proxmox <a href="#linked-clone" id="linked-clone"></a>

#### Основные настройки <a href="#linked-main" id="linked-main"></a>

**Имя (Name)** - наименование создаваемого сервиса;

**Пул (Pool)** - пул, в котором будут находиться ВМ, созданные брокером;

**Высокая доступность (HA)** - включать ли созданные ВМ в группу HA PVE;

**Сначала попробовать SOFT Shutdown (Try SOFT Shutdown first)** - если включено, брокер попытается выполнить контролируемое выключение виртуального рабочего стола перед его уничтожением.

#### Машина <a href="#linked-machine" id="linked-machine"></a>

**Базовая машина (Base Machine)** - "золотой" образ ВМ, используемый брокером для развертывания виртуальных рабочих столов;

**Хранилище (Storage)** - хранилище для размещения виртуальных рабочих столов. Поддерживаются типы хранилищ, позволяющие создавать снапшоты (Snapshot);

**Доступность GPU (GPU Availability)** - метод проверки доступности GPU;

**Имена машин (Machine Names)** - базовое имя машины, используемое для создаваемых виртуальных рабочих столов (например, CloneVM- );

**Длина имени (Name Length)** - длина числового суффикса, добавляемого к базовому имени машины (например, Длина имени = 2 -> CloneVM-00, CloneVM-01 и т.д).
