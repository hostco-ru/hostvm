# RDS RemoteApp

Транспорт «RDS RemoteApp» позволяет пользователям получать доступ к виртуальным приложениям Windows.

> Этот транспорт доступен для использования только с [сервис-провайдером RDS \ Linux Terminal](../service-providers/rds-linux-terminal.md).

> Для подключения используется протокол RDP, на машине пользователя должен быть установлен соответствующий клиент: для среды Windows используются встроенные средства, для Linux требуется FreeRDP версии 2.х и выше, для Mac OS - Microsoft Remote Desktop Client (Windows App) либо FreeRDP версии 2.х и выше.

## Настройка прямого подключения <a href="#direct" id="direct"></a>

Для создания транспорта перейдите в раздел "Подключение" > "Транспорты", нажмите "Новый", в выпадающем списке выберите тип "Прямой" и транспорт "RDS RemoteApp".

### Основные настройки <a href="#main" id="main"></a>

`Имя` - наименование создаваемого транспорта для отображения в системе;

`Приоритет` - приоритет транспорта. Чем ниже значение параметра, тем выше транспорт будет отображаться в списке доступных для сервиса. Транспорт с наименьшим значением параметра будет использоваться по умолчанию при нажатии на иконку сервиса пользователем;

`Сетевой доступ` - разрешает или запрещает пользователю доступ к сервису в зависимости от сети, из которой он получает доступ, и сети, указанной в поле «Сети» («Networks»);

`Сети` - сетевые диапазоны, подсети или IP-адреса, заданные в разделе "Подключение" - "Сети". Используется совместно с параметром «Сетевой доступ» для разрешения или запрета пользователю доступа к сервису в зависимости от его местоположения в сети;

`Разрешенные устройства` - разрешает доступ к сервису только с выбранных устройств. Если ничего не выбрано, фильтрация не выполняется;

`Сервис-пулы` - перечень сервис-пулов, в которых используется транспорт.

### Учетные данные <a href="#creds" id="creds"></a>

`Пропустить данные аккаунта` - если установлено «Нет» (по умолчанию), при подключении к сервису будут использованы учетные данные, введенные пользователем при входе в брокер, либо учетные данные, введенные в поля "Имя пользователя" и "Пароль" ниже (используются в первую очередь, если заданы). Если установлено «Да» - учетные данные будут пустыми;

`Имя пользователя` - имя пользователя для подключения (такой пользователь должен существовать), используется в связке с предыдущим параметром в значении "Нет";

`Пароль` - пароль пользователя;

`Без домена` - указывает, перенаправляется ли имя домена вместе с пользователем (по умолчанию). Если включено, имя домена не передается;

`Домен` - имя домена, которое отправляется с учетными данными пользователя (в формате DOMAIN\user);

### Параметры <a href="#params" id="params"></a>

`Запустить как оболочку` - если включено, приложение будет запущено в качестве оболочки в сеансе вместо режима удаленного приложения;

`Разрешить смарткарты` - разрешает перенаправление смарт-карт;

`Разрешить принтеры` - включает перенаправление принтера;

`Политика локальных дисков` - позволяет управлять политикой проброса дисков в сессию:

* Allow none - проброс дисков отключен;
* Allow PnP drives - пробрасываются только диски, подключенные во время активной сессии;
* Allow any drive - пробрасываются все диски.

`Принудительное подключение дисков` - принудительное перенаправление указанных дисков. Можно ввести несколько через запятую (пример: "F:, G:"). Если значение параметра "Политика локальных дисков" установлено в Allow none, данный параметр игнорируется;

`Разрешить серийные порты` - включает перенаправление последовательного порта;

`Включить буфер обмена` - разрешает общий буфер обмена между клиентом и виртуальным приложением;

`Поддержка Credssp` - при включении данного параметра будет использоваться «Credential Security Support Provider»;

`Включить звук` - разрешает перенаправление звука от виртуального приложения к клиенту;

`Включить веб-камеру` - разрешает перенаправление веб-камеры;

`Проброс USB` - позволяет управлять политикой проброса USB.

### Расширенные настройки <a href="#advanced" id="advanced"></a>

`Порт RDP` - используемый порт для подключения (по умолчанию 3389);

`Проверка сервера` - если включено, перед использованием будет выполняться проверка доступности адреса для подключения;

`Метка` - метка транспорта мета-пула (используется для группировки транспортов мета-пула).

### Экран/Дисплей <a href="#display" id="display"></a>

`Размер экрана` - управление размером экрана при подключении в сеанс (только в комбинации с включенным параметром `Запустить как оболочку`, иначе игнорируется);

`Глубина цвета` - управление глубиной цвета подключения;

`Обои/темы` - управление отображением обоев/тем рабочего стола на клиенте;

`Несколько мониторов` - управление возможностью использования нескольких мониторов (только для Windows клиентов);

`Разрешить композицию рабочего стола` - активирует композицию рабочего стола;

`Сглаживание шрифтов` - активирует сглаживание шрифтов;

`Панель подключения` - отображение панели подключения (только для Windows клиентов).

### Linux Client <a href="#linux" id="linux"></a>

`Версия клиента FreeRDP` - используемая для подключения версия FreeRDP;

`Оптимизация видеопотока` - если включено, используется параметр video клиента FreeRDP;

`Использовать Alsa` - если включено, используется ALSA, иначе Pulse;

`Строка принтера` - параметры принтера, передаваемые клиенту FreeRDP;

`Строка Smartcard` - параметры смарт-карты, передаваемые клиенту FreeRDP;

`Дополнительные параметры` - дополнительные параметры, передаваемые клиенту FreeRDP.

### Windows Client <a href="#windows" id="windows"></a>

`Дополнительные параметры` - дополнительные параметры, передаваемые клиенту MS RDP.

### Mac OS X <a href="#macos" id="macos"></a>

`Разрешить клиент Microsoft Rdp` - если включено, разрешается использование Microsoft Remote Desktop Client (Windows App), иначе используется клиент FreeRDP для Mac OS;

`Дополнительные параметры FreeRDP` - дополнительные параметры, передаваемые клиенту FreeRDP;

`Дополнительные параметры Microsoft RDP` - дополнительные параметры, передаваемые клиенту Microsoft Remote Desktop для Mac OS.

## Настройка туннелированного подключения <a href="#tunneled" id="tunneled"></a>

Для создания транспорта перейдите в раздел "Подключение" > "Транспорты", нажмите "Новый", в выпадающем списке выберите тип "Туннельный" и транспорт "RDS RemoteApp".

### Туннель <a href="#tunnel" id="tunnel"></a>

`Туннельный сервер` - IP-адрес или FQDN машины HOSTVM VDI Tunneler и порт подключения, в формате `<адрес>:<порт>` (порт по умолчанию - 443). Если доступ осуществляется из глобальной сети, введите общедоступный адрес HOSTVM VDI Tunneler.

`Время ожидания туннеля` – время действия тикета для подключения к HOSTVM VDI Tunneler;

`Принудительная проверка SSL-сертификата` - включает проверку сертификата HOSTVM VDI Tunneler при подключении (требуется наличие действительного сертификата на машине HOSTVM VDI Tunneler).

> Остальные параметры идентичны прямому подключению.

