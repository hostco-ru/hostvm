# Параметры для уведомлений о событиях в ovirt-engine-notifier.conf

Файл конфигурации уведомления о событиях: **/usr/share/ovirt-engine/services/ovirt-engine-notifier/ovirt-engine-notifier.conf**.

| Параметр                                  | Значение по умолчанию                  | Описание                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ----------------------------------------- | -------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| SENSITIVE\_KEYS                           | none                                   | Список ключей, разделенных запятыми, которые не будут записываться в журнал.                                                                                                                                                                                                                                                                                                                                                        |
| JBOSS\_HOME                               | /opt/rh/eap7/root/usr/share/wildfly    | Расположение JBoss application server, используемого HOSTVM Manager.                                                                                                                                                                                                                                                                                                                                                                |
| ENGINE\_ETC                               | /etc/ovirt-engine                      | Путь до каталога etc HOSTVM Manager                                                                                                                                                                                                                                                                                                                                                                                                 |
| ENGINE\_LOG                               | /var/log/ovirt-engine                  | Путь до директории с логами HOSTVM Manager.                                                                                                                                                                                                                                                                                                                                                                                         |
| ENGINE\_USR                               | /usr/share/ovirt-engine                | Путь до директории usr HOSTVM Manager.                                                                                                                                                                                                                                                                                                                                                                                              |
| ENGINE\_JAVA\_MODULEPATH                  | ${ENGINE\_USR}/modules                 | Путь к файлу, к которому добавляются модули JBoss.                                                                                                                                                                                                                                                                                                                                                                                  |
| NOTIFIER\_DEBUG\_ADDRESS                  | none                                   | Адрес машины, который может использоваться для выполнения удаленной отладки Java virtual machine, используемой для уведомлений.                                                                                                                                                                                                                                                                                                     |
| NOTIFIER\_STOP\_TIME                      | 30                                     | Время в секундах, по истечении которого истекает время ожидания службы.                                                                                                                                                                                                                                                                                                                                                             |
| NOTIFIER\_STOP\_INTERVAL                  | 1                                      | Время в секундах, на которое будет увеличиваться счетчик времени ожидания.                                                                                                                                                                                                                                                                                                                                                          |
| INTERVAL\_IN\_SECONDS                     | 120                                    | Интервал в секундах между отправками сообщений получателям.                                                                                                                                                                                                                                                                                                                                                                         |
| IDLE\_INTERVAL                            | 30                                     | Интервал в секундах между выполнениями задач с низким приоритетом.                                                                                                                                                                                                                                                                                                                                                                  |
| DAYS\_TO\_KEEP\_HISTORY                   | 0                                      | Количество дней, в течение которых отправленные события будут храниться в таблице истории. Если этот параметр не задан, события будут храниться в таблице истории бессрочно.                                                                                                                                                                                                                                                        |
| FAILED\_QUERIES\_NOTIFICATION\_THRESHOLD  | 30                                     | Количество неудачных запросов, после которых отправляется электронное письмо с уведомлением. Электронное письмо с уведомлением отправляется после первого сбоя при получении уведомлений, а затем по одному разу при каждом достижении количества сбоев, указанного в этой переменной. Если указано значение 0 или 1, при каждом сбое будет отправляться электронное письмо.                                                        |
| FAILED\_QUERIES\_NOTIFICATION\_RECIPIENTS | none                                   | Адреса электронной почты получателей, на которые будут отправляться электронные письма с уведомлениями. Адреса электронной почты должны быть разделены запятой. Устаревший параметр, рекомендуется использовать параметр FILTER.                                                                                                                                                                                                    |
| DAYS\_TO\_SEND\_ON\_STARTUP               | 0                                      | Количество дней со старыми событиями, которые будут обработаны и отправлены при запуске службы уведомлений. Если значение равно 0, а служба останавливается и запускается через некоторое время, все уведомления между остановкой службы и временем начала службы будут потеряны, установите значение 1 или большее, если вы хотите получать уведомления о событиях, произошедших между остановкой службы и временем начала службы. |
| FILTER                                    | exclude:\*                             | Алгоритм, используемый для определения триггеров и получателей уведомлений по электронной почте. Значение этого параметра включает в себя комбинацию параметров include или exclude, событие и получателя. Например, include:VDC\_START(smtp:mail@example.com) ${FILTER}                                                                                                                                                            |
| MAIL\_SERVER                              | none                                   | Адрес почтового сервера SMTP. Обязательный параметр.                                                                                                                                                                                                                                                                                                                                                                                |
| MAIL\_PORT                                | 25                                     | Порт, используемый для связи. Возможные значения: 25 для SMTP, 465 для SMTP с SSL и 587 для SMTP с TLS.                                                                                                                                                                                                                                                                                                                             |
| MAIL\_USER                                | none                                   | Если для аутентификации пользователя используется SSL, должен быть установлен этот параметр. Этот параметр также используется для указания адреса отправителя, если параметр MAIL\_FROM не задан. Некоторые почтовые серверы не поддерживают эту функцию. Адрес указывается в формате RFC822.                                                                                                                                       |
| SENSITIVE\_KEYS                           | ${SENSITIVE\_KEYS},MAIL\_PASSWORD      | Этот параметр требуется для аутентификации пользователя, если почтовый сервер требует аутентификации или если включен протокол SSL или TLS.                                                                                                                                                                                                                                                                                         |
| MAIL\_PASSWORD                            | none                                   | Этот параметр требуется для аутентификации пользователя, если почтовый сервер требует аутентификации или если включен протокол SSL или TLS.                                                                                                                                                                                                                                                                                         |
| MAIL\_SMTP\_ENCRYPTION                    | none                                   | Используемый тип шифрования. Возможные значения: none, ssl, tls.                                                                                                                                                                                                                                                                                                                                                                    |
| HTML\_MESSAGE\_FORMAT                     | false                                  | Если установлено значение true, почтовый сервер будет отправлять сообщения в формате HTML.                                                                                                                                                                                                                                                                                                                                          |
| MAIL\_FROM                                | none                                   | Параметр, определяющий адрес отправителя в формате RFC822, если поддерживается почтовым сервером.                                                                                                                                                                                                                                                                                                                                   |
| MAIL\_REPLY\_TO                           | none                                   | Параметр, определяющий адреса для отправки писем в формате RFC822, если это поддерживается почтовым сервером.                                                                                                                                                                                                                                                                                                                       |
| MAIL\_SEND\_INTERVAL                      | 1                                      | Количество SMTP-сообщений, которые должны быть отправлены за интервал, указанный в параметре IDLE\_INTERVAL                                                                                                                                                                                                                                                                                                                         |
| MAIL\_RETRIES                             | 4                                      | Количество попыток отправки электронного сообщения до сбоя.                                                                                                                                                                                                                                                                                                                                                                         |
| SNMP\_MANAGERS                            | none                                   | IP-адреса или FQDN машин, которые будут выполнять функции менеджеров SNMP. Записи должны быть разделены пробелом и могут содержать номер порта. Например, manager1.example.com manager2.example.com:164                                                                                                                                                                                                                             |
| SNMP\_COMMUNITY                           | public                                 | (Только для SNMPv2) SNMP community.                                                                                                                                                                                                                                                                                                                                                                                                 |
| SNMP\_OID                                 | 1.3.6.1.4.1.2312.13.1.1                | Trap OID (Trap object identifiers) для оповещений по умолчанию. Все типы ловушек отправляются вместе с информацией о событии в SNMP менеджер, когда определен Trap OID. Обратите внимание, что изменение Trap OID по умолчанию не позволяет сгенерированным ловушкам соответствовать информационной базе HOSTVM Manager.                                                                                                            |
| SNMP\_VERSION                             | 2                                      | Определяет, какую версию SNMP использовать. Поддерживаются SNMP Traps версии 2 и версии 3.                                                                                                                                                                                                                                                                                                                                          |
| SNMP\_ENGINE\_ID                          | none                                   | (SNMPv3) Engine ID, используемый для SNMPv3 Traps. Этот идентификатор является уникальным идентификатором устройства, подключенного через SNMP.                                                                                                                                                                                                                                                                                     |
| SNMP\_USERNAME                            | none                                   | (SNMPv3) Имя пользователя, используемое для SNMPv3 Traps.                                                                                                                                                                                                                                                                                                                                                                           |
| SNMP\_AUTH\_PROTOCOL                      | none                                   | (SNMPv3) Протокол авторизации SNMPv3. Возможные значения: MD5, SHA                                                                                                                                                                                                                                                                                                                                                                  |
| SNMP\_AUTH\_PASSPHRASE                    | none                                   | (SNMPv3) Ключевая фраза, используемая, когда для SNMP\_SECURITY\_LEVEL заданы значения AUTH\_NOPRIV и AUTH\_PRIV.                                                                                                                                                                                                                                                                                                                   |
| SNMP\_PRIVACY\_PROTOCOL                   | none                                   | <p>(SNMPv3) SNMPv3 privacy protocol. Возможные значения: AES128, AES192, AES256</p><p>AES192 и AES256 не определены в RFC3826, поэтому убедитесь, что ваш SNMP-сервер поддерживает эти протоколы, прежде чем использовать их.</p>                                                                                                                                                                                                   |
| SNMP\_PRIVACY\_PASSPHRASE                 | none                                   | Ключевая фраза SNMPv3, используемая, когда для SNMP\_SECURITY\_LEVEL задано значение AUTH\_PRIV.                                                                                                                                                                                                                                                                                                                                    |
| SNMP\_SECURITY\_LEVEL                     | 1                                      | <p>(SNMPv3) SNMPv3 Security level. Возможные значения:<br>* 1 - NOAUTH_NOPRIV * 2 - AUTH_NOPRIV * 3 - AUTH_PRIV</p>                                                                                                                                                                                                                                                                                                                 |
| ENGINE\_INTERVAL\_IN\_SECONDS             | 300                                    | Интервал в секундах между проверками машины HOSTVM Manager. Интервал измеряется с момента завершения мониторинга.                                                                                                                                                                                                                                                                                                                   |
| ENGINE\_MONITOR\_RETRIES                  | 3                                      | Количество попыток службы уведомления отслеживать состояние машины HOSTVM Manager в течение заданного интервала после сбоя.                                                                                                                                                                                                                                                                                                         |
| ENGINE\_TIMEOUT\_IN\_SECONDS              | 30                                     | Время ожидания в секундах, прежде чем служба уведомления попытается отслеживать состояние машины HOSTVM Manager в течение заданного интервала после сбоя.                                                                                                                                                                                                                                                                           |
| IS\_HTTPS\_PROTOCOL                       | false                                  | Установить значение true, если JBoss запускается в защищенном режиме.                                                                                                                                                                                                                                                                                                                                                               |
| SSL\_PROTOCOL                             | TLS                                    | Протокол, используемый JBoss configuration connector, если включён SSL.                                                                                                                                                                                                                                                                                                                                                             |
| SSL\_IGNORE\_CERTIFICATE\_ERRORS          | false                                  | Установить значение true, если JBoss работает в защищенном режиме и ошибки SSL должны игнорироваться.                                                                                                                                                                                                                                                                                                                               |
| SSL\_IGNORE\_HOST\_VERIFICATION           | false                                  | Установить значение true, если JBoss запущен в безопасном режиме и проверка имени хоста игнорируется.                                                                                                                                                                                                                                                                                                                               |
| REPEAT\_NON\_RESPONSIVE\_NOTIFICATION     | false                                  | Параметр определяет, будут ли отправляться повторные сообщения о сбоях получателям, если машина HOSTVM Manager не отвечает на запросы.                                                                                                                                                                                                                                                                                              |
| ENGINE\_PID                               | /var/lib/ovirt-engine/ovirt-engine.pid | Путь и имя файла PID HOSTVM Manager.                                                                                                                                                                                                                                                                                                                                                                                                |

