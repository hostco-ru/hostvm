# Установка HOSTVM Node на локальные диски

## Перед установкой

Перед установкой подготовьте диски вашего сервера: соберите диски в raid-группы используя инструкции вендора вашего оборудования.

Для установки необходимо использовать iso-образ HOSTVM Node, который доступна в [наборе дистрибутивов для развертывания решения](https://reestr.hostco.ru/downloads)

Подключите полученный iso-образ к серверу, запустите сервер.

## Процесс установки

При загрузке откроется меню выбора действия. За 60 секунд выберите _Install Centos 7_. Если за 60 секунд после загрузки не выбрать данный пункт, то начинается тестирование ресурсов сервера и только после этого начнется установка. Остановить тестирование ресурсов сервера возможно через нажатие клавиши _esc_. 

![](../.gitbook/assets/screenshot_2.png)

В случае если загрузка установщика зависнет, то нужно повторно загрузиться с установочного диска и в стартовом меню действий выбрать пункт «Troubleshooting», затем “Install CentOS 7 in basic graphics mode” для запуска установки с с использованием псевдографического интерфейса.

В открывшемся окне выберите английский язык \(English\), который будет использоваться в интерфейсе установщика.

_Выбранный язык не влияет на язык внутри самой операционной системы, которая устанавливается без графической оболочки._

Скриншоты инструкции выполнены в интерфейсе с английским языком. Нажмите _Continue_.

![](../.gitbook/assets/screenshot_3.png)

Далее автоматически открывается меню настроек.

![](../.gitbook/assets/screenshot_4.png)

Перейдите в _DATE & TIME_, укажите ваш часовой пояс, время и дату. Нажмите _Done_.

![](../.gitbook/assets/screenshot_5.png)

Перейдите в _NETWORK & HOST NAME_.

![](../.gitbook/assets/screenshot_6.png)

Выберите интерфейс, нажмите кнопку _Configure..._. В открывшемся окне перейдите на вкладку _IPv4 Settings_, выберите _Method: Manual_, введите ip, маску, gw, DNS-сервер. Нажмите кнопку _Save_.

![](../.gitbook/assets/screenshot_8.png)

Переведите тригер возле названия подключения в положение _On_. В поле _Host name_ введите имя сервера, нажмите кнопку _Apply_. Нажмите кнопку _Done_.

![](../.gitbook/assets/screenshot_9.png)

Перейдите в _Instalation Destination_. Выберете диск на который необходимо выполнить установку. Выберете радиокнопку _I will configure partitioning_. Нажмите _Done_.

![](../.gitbook/assets/screenshot_10.png)

После выбора места установки автоматически открывается следующее меню.

![](../.gitbook/assets/screenshot_11.png)

Если диск уже использовался \(имел таблицу разделов\), то удалите их, как показано ниже.

![](../.gitbook/assets/screenshot_15.png)

![](../.gitbook/assets/screenshot_12.png)

Когда на диске не останется существующих разделов Из выпадающего меню выберите _LVM Thin Provisioning._ Нажмите _Click here to create them automatically_. 

![](../.gitbook/assets/screenshot_18.png)

Удалите _home_, как показано ниже.

![](../.gitbook/assets/screenshot_19.png)

Для работы гипервизору необходимо минимум 45GB на системном диске. Для работы hostvm на локальных дисках необходимо 61GB выделенных для домена хранения. Домен хранения рекомендуем создавать на отдельном разделе. Если необходимо, измените поле _Desired Capacity_ раздела _/_, чтобы изменить размер системного раздела. Не менее 15GB необходимо для раздела /var.

На освободившемся после удаления _home_ месте, создайте новый раздел с точкой монтирования в _/data_.

![](../.gitbook/assets/screenshot_21.png)

Нажмите _Done_.

Создайте раздел /var.

![](../.gitbook/assets/screenshot_22.png)

![&#x41C;&#x438;&#x43D;&#x438;&#x43C;&#x430;&#x43B;&#x44C;&#x43D;&#x430;&#x44F; &#x440;&#x430;&#x437;&#x43C;&#x435;&#x442;&#x43A;&#x430; &#x434;&#x43B;&#x44F; &#x443;&#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x43A;&#x438; &#x43D;&#x430; &#x43B;&#x43E;&#x43A;&#x430;&#x43B;&#x44C;&#x43D;&#x44B;&#x435; &#x434;&#x438;&#x441;&#x43A;&#x438;](../.gitbook/assets/screenshot_23.png)

Подтвердите действие кнопкой _Accept Changes_.

![](../.gitbook/assets/screenshot_24.png)

В стартовом меню нажмите кнопку _Begin Instalation_, чтобы начать установку.

В открывшемся окне выберете _Root Password_. Введите ваш пароль \(рекомендуемый пароль **engine**\). Дважды нажмите _Done_.

![](../.gitbook/assets/screenshot_25.png)

![](../.gitbook/assets/screenshot_27.png)

![](../.gitbook/assets/screenshot_28.png)

Ожидайте окончания установки. После завершения подтвердите перезагрузку нажатием на кнопку _Reboot_.

![](../.gitbook/assets/screenshot_30.png)

