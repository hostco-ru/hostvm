# Роль SPM

SPM (Storage Pool Manager) – роль, назначенная одному из хостов дата-центра (любому) и позволяющая ему управлять хранилищами этого дата-центра. Данная роль назначается менеджером виртуализации HOSTVM и не мешает стандартному функционалу хоста – на нем также могут быть запущены ВМ.

SPM контролирует доступ к хранилищам с помощью координации метаданных между ними. Это включает в себя создание, удаление и управление виртуальными дисками, снапшотами, шаблонами, выделение места на блочных устройствах (SAN). Роль является эксклюзивной и в момент времени назначена только на один хост в дата-центре для обеспечения целостности метаданных.

HOSTVM Manager обеспечивает наличие SPM, переназначает роль на другой хост при наличии у текущего проблем с доступом к хранилищам. При запуске SPM выполняется проверка на уникальность роли среди хостов дата-центра.

SPM потребляет некоторое количество ресурсов хоста. Для каждого хоста может быть выставлен приоритет назначения роли (вкладка SPM настроек хоста): хост с высоким приоритетом получит роль SPM раньше хоста с низким приоритетом. Для хостов с критичными к ресурсам ВМ рекомендуется устанавливать низкий приоритет SPM.
